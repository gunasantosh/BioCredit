<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home | BioCredit &#128594;</title>

    <script src="{{url_for('static',filename='kit.fontawesome.com_a4e89c7158.js')}}"></script>
    <link
      rel="stylesheet"
      href="{{url_for('static',filename='font-awesome_6.4.2_css_all.min.css')}}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles/index.css') }}"
    />
    <link
      href="{{url_for('static',filename='5.3.1_dist_css_bootstrap.min.css')}}"
      rel="stylesheet"
    />
    <script src="{{url_for('static',filename='5.3.1_dist_js_bootstrap.bundle.min.js')}}"></script>
    <script src="{{url_for('static',filename='jquery-3.7.0.min.js')}}"></script>
    <script src="{{ url_for('static', filename='html5-qrcode.min.js')}}"></script>
  </head>
  <body style="overflow: hidden">
    <!--Pre Loader starts-->
    <div id="prel" class="preloader">
      <svg
        xml:space="preserve"
        style="height: 50%; width: 50%"
        viewBox="0 0 128 128"
        y="0px"
        x="0px"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns="http://www.w3.org/2000/svg"
        id="圖層_1"
        version="1.1"
        width="200px"
        height="200px"
      >
        <g
          class="ldl-scale"
          style="
            transform-origin: 50% 50%;
            transform: rotate(0deg) scale(0.8, 0.8);
          "
        >
          <g
            class="ldl-ani"
            style="
              transform-origin: 64px 64px;
              transform: translate(0px, 0px);
              animation: 1.11111s linear 0s infinite normal forwards running
                jump-39f07977-142e-4f9c-a589-7b3a5b286ba3;
            "
          >
            <style type="text/css">
              .st0 {
                fill: none;
              }
              .st1 {
                fill: #abbd81;
                stroke: #333;
                stroke-width: 3.5;
                stroke-linecap: round;
                stroke-miterlimit: 10;
              }
              .st2 {
                fill: #333;
              }
            </style>
            <g class="ldl-layer">
              <g class="ldl-ani" style="transform-origin: 64px 64px">
                <path d="z" class="st0"></path>
              </g>
            </g>
            <g class="ldl-layer">
              <g class="ldl-ani">
                <g>
                  <g class="ldl-layer">
                    <g class="ldl-ani" style="transform-origin: 64px 64px">
                      <path
                        d="M93.8,67.3c-10.9,20.9-33,25.5-44.5,19.1c-21.4-12-17.2-37.2,0-42.2c37.6-11,39.4-32,39.4-32 S111,34.2,93.8,67.3z"
                        class="st1"
                        style="fill: rgb(1, 254, 52); stroke: rgb(21, 153, 48)"
                      ></path>
                    </g>
                  </g>
                  <g class="ldl-layer">
                    <g class="ldl-ani">
                      <g>
                        <g class="ldl-layer">
                          <g
                            class="ldl-ani"
                            style="transform-origin: 64px 64px"
                          >
                            <path
                              d="M90.2,31.6c-0.8,4.9-1.9,9.6-4,14.2c-2,4.6-5,8.8-8.4,12.5c-7,7.4-15.6,12.5-24.2,17.4l-6.4,3.6 c-2.2,1.3-4.1,2.2-5.9,3.3c-3.6,2.3-6.5,4.9-8.2,8.1c-1.8,3.2-2.2,7.2-1.4,11.5c0.8,4.4,2.4,8.8,4.5,13.2c0.1,0.3,0,0.5-0.3,0.6 c-0.1,0.1-0.4,0-0.5,0c-4.1-3.1-7.3-7-9.6-11.9c-1.2-2.4-1.9-5.1-2-8.1c-0.3-2.8,0.1-5.9,1.3-8.8c1-2.8,2.8-5.4,4.7-7.4 c1-1,2-1.9,3.2-2.8l3.5-2.3c2.3-1.3,4.9-2.3,7-3.1c2.2-0.9,4.5-1.7,6.7-2.7c4.4-1.9,8.6-4,12.7-6.3c4.1-2.3,8.1-4.7,11.5-7.8 C78,52,81,48.5,83.5,44.4c2.4-4,4.2-8.4,5.6-13.1c0.1-0.3,0.4-0.4,0.5-0.3C90.1,31.2,90.2,31.4,90.2,31.6z"
                              class="st2"
                              style="fill: rgb(21, 153, 48)"
                            ></path>
                          </g>
                        </g>
                      </g>
                    </g>
                  </g>
                </g>
              </g>
            </g>
            <g class="ldl-layer">
              <g class="ldl-ani" style="transform-origin: 64px 64px">
                <path d="z" class="st0"></path>
              </g>
            </g>
            <metadata xmlns:d="https://loading.io/stock/">
              <d:name>leaf</d:name>
              <d:license>by</d:license>
              <d:slug>yycrha</d:slug>
            </metadata>
          </g>
        </g>
      </svg>
    </div>
    <script>
      $(window).on("load", function () {
        document.getElementById("prel").classList.add("off");
        document
          .getElementById("prel")
          .addEventListener("animationend", function (e) {
            document.getElementById("prel").style.width = "0%";
            document.getElementById("prel").style.height = "0%";
          });
        document.querySelector("body").style.overflow = "visible";
      });
    </script>
    <!--Pre Loader ends here-->
    <!--Nav Bar Begins-->
    <header>
      <nav>
        <div class="logo">
          <h1>
            BioCredit <i class="fa-solid fa-leaf" style="color: #00fe43"></i>
          </h1>
        </div>
        <div class="menu">
          <ul>
            <li>
              <a href="#home" id="Home" class="active" onclick="Home(this)"
                >Home</a
              >
            </li>

            <li>
              <a href="#about" id="About" onclick="Home(this)">About</a>
            </li>

            <li>
              <a
                target="_blank"
                href="{{ url_for('views.explorer')}}"
                id="Explore"
                onclick="Home(this)"
                >Explorer&nbsp;<i
                  class="fa-solid fa-arrow-up-right-from-square"
                  style="color: #ffffff"
                ></i
              ></a>
            </li>
          </ul>
        </div>
        <div class="register">
          <a
            id="qropen"
            type="button"
            class="btn btn-light"
            data-bs-toggle="modal"
            data-bs-target="#qrmodal"
          >
            <i class="fa-solid fa-qrcode"></i>
          </a>
          <a href="{{ url_for('auth.login') }}" class="btn btn-light">Login</a>
          <a href="{{ url_for('auth.register') }}" class="register-btn"
            >Register</a
          >
        </div>
        <div class="hamburger-menu">
          <button id="fa" style="background-color: transparent; border: none">
            <i class="fa-solid fa-bars fa-xl" style="color: #ffffff"></i>
          </button>
          <button
            id="fa-cross"
            style="background-color: transparent; border: none; display: none"
          >
            <i class="fa-solid fa-xmark fa-xl" style="color: #ffffff"></i>
          </button>
        </div>
      </nav>
    </header>
    <!-- Nav Bar ends -->
    <div id="overlay"></div>
    <!-- off canvas starts here -->
    <div class="off-canvas" id="offcanvas">
      <h2>BioCredit <i class="fa-solid fa-leaf" style="color: #00fe43"></i></h2>
      <hr />
      <ul>
        <li><a onclick="closeCanvas();" href="#home">Home</a></li>
        <li><a onclick="closeCanvas();" href="#">Explorer</a></li>
        <li><a onclick="closeCanvas();" href="#about">About</a></li>
      </ul>
      <button
        onclick="location.href='{{ url_for('auth.login')}}';"
        class="login-btn"
      >
        <a href="{{ url_for('auth.login')}}">Login</a></button
      ><br />
      <button
        onclick="location.href='{{url_for('auth.register')}}';"
        class="register-btn"
      >
        <a href="{{url_for('auth.register')}}">Register</a>
      </button>
    </div>
    <!-- off canvas ends here -->
    <!--  QR code starts -->
    <script>
      let html5QrcodeScanner;
      function onScanSuccess(decodedText, decodedResult) {
        console.log(`Scan result: ${decodedText}`, decodedResult);

        if (isValidURL(decodedText)) {
          window.open(decodedText, "_blank");
        } else {
          console.log("Not a valid URL:", decodedText);
        }

        $("#qrmodal").modal("hide");

        html5QrcodeScanner.clear();
      }

      function isValidURL(url) {
        // Regular expression to match most types of URLs, including localhost
        const pattern =
          /^(https?|ftp|file):\/\/(localhost|127\.0\.0\.1|[a-z0-9-]+(\.[a-z0-9-]+)*)(:\d{1,5})?(\/\S*)?$/i;
        return pattern.test(url);
      }

      $("#qropen").on("click", function (e) {
        html5QrcodeScanner = new Html5QrcodeScanner("reader", {
          fps: 10,
          qrbox: 250,
        });

        html5QrcodeScanner.render(onScanSuccess);
      });

      $("#qrclose").on("click", function (e) {
        if (html5QrcodeScanner) {
          html5QrcodeScanner.clear();
        }
      });
    </script>
    <!--Qr code ends here-->
    <div class="home" id="home">
      <div class="blockchain-img">
        <img
          src="{{ url_for('static', filename='images/blo.svg') }}"
          alt="block-chain"
          width="650px"
        />
      </div>
      <div class="block-chain">
        <h1>CARBON CREDIT DECENTRALIZED.</h1>

        <ul>
          <li>
            Welcome to BioCredit
            <i class="fa-solid fa-leaf fa-sm" style="color: #000000"></i> – the
            platform revolutionizing carbon credit calculation and
            decentralization.
          </li>
          <li>
            Our innovative web3 application leverages advanced technologies to
            ensure accurate measurements of biogas generation, seamlessly stored
            on the Algorand blockchain.
          </li>
        </ul>
      </div>
    </div>

    <div class="algo" id="about">
      <div class="algo-paragraph">
        <h1>Fueling Sustainability ~</h1>
        <h2>Unlocking Greener Futures.</h2>
        <ul>
          <li>
            At BioCredit , we're dedicated to utilizing the power of the
            Algorand blockchain to securely store hashes of biogas meter
            readings and images.
          </li>
          <li>
            Our cutting-edge approach ensures transparency and traceability of
            carbon credits generated, paving the way for a greener future.
          </li>
        </ul>
      </div>
      <div class="algo-logo">
        <img
          src="{{ url_for('static', filename='images/algorand_logo.svg') }}"
          alt="Algorand"
          width="600px"
        />
      </div>
    </div>
    <!-- modal-->
    <div
      class="modal fade"
      id="qrmodal"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="staticBackdropLabel"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-fullscreen modal-dialog-centered modal-dialog-scrollable"
      >
        <div class="modal-content" style="background-color: #000">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="staticBackdropLabel">Scan QR</h1>
            <button
              type="button btn btn-light"
              id="qrclose"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div style="width: 500px" id="reader"></div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer">
        All Rights Reserved - BioCredit<i
          class="fa-solid fa-leaf fa-sm"
          style="color: #00fe43"
        ></i>
        &copy;
      </div>
    </footer>

    <script>
      function Home(x) {
        document.getElementById("Home").classList.remove("active");
        document.getElementById("Explore").classList.remove("active");
        document.getElementById("About").classList.remove("active");
        x.classList.add("active");
      }

      // function OffCanvas() {
      //   document.getElementById("offcanvas").classList.add("active");
      //   document.getElementById("fa").style.display = "none";
      //   document.getElementById("fa-cross").style.display = "block";
      // }

      // function OffCanvasClose() {
      //   document.getElementById("offcanvas").style.display = "none";
      //   document.getElementById("fa").style.display = "block";
      //   document.getElementById("fa-cross").style.display = "none";
      // }

      // document.addEventListener("click", function (e) {
      //   console.log(e.target.id);

      //   if (e.target.id === "fa") {
      //     console.log("open");
      //     OffCanvas();
      //     return;
      //   } else if (e.target.id !== "offcanvas") {
      //   }
      //   OffCanvasClose();
      // });

      const overlay = document.querySelector("#overlay");
      const mainNav = document.querySelector("#offcanvas");
      const navToggle = document.querySelector("#fa");
      const navClose = document.querySelector("#fa-cross");

      function closeCanvas() {
        navClose.style.display = "none";
        navToggle.style.display = "block";
        if (mainNav.classList.contains("is-active")) {
          mainNav.classList.remove("is-active");
        }
        if (overlay.classList.contains("is-active"))
          overlay.classList.remove("is-active");
      }

      navToggle.addEventListener("click", () => {
        navClose.style.display = "block";
        navToggle.style.display = "none";
        if (!mainNav.classList.contains("is-active")) {
          mainNav.classList.add("is-active");
        }
        if (!overlay.classList.contains("is-active"))
          overlay.classList.add("is-active");
      });
      navClose.addEventListener("click", () => {
        navClose.style.display = "none";
        navToggle.style.display = "block";
        if (mainNav.classList.contains("is-active")) {
          mainNav.classList.remove("is-active");
        }
        if (overlay.classList.contains("is-active"))
          overlay.classList.remove("is-active");
      });

      overlay.addEventListener("click", () => {
        if (mainNav.classList.contains("is-active"))
          mainNav.classList.remove("is-active");
        if (overlay.classList.contains("is-active"))
          overlay.classList.remove("is-active");
        navClose.style.display = "none";
        navToggle.style.display = "block";
      });
    </script>
  </body>
</html>
